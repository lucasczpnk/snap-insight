# =============================================================================
# Snap Insight — Supabase & Auth Configuration
# =============================================================================
# Copy this file to .env.local and replace placeholder values with your
# actual Supabase credentials. Never commit .env.local to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase (Required for auth, upload API, and dataset APIs)
# -----------------------------------------------------------------------------
# Get these from: Supabase Dashboard → Project Settings → API
# https://supabase.com/dashboard/project/YOUR_PROJECT_REF/settings/api

NEXT_PUBLIC_SUPABASE_URL=https://xxxxxxxxxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxxxxxxxxx

# -----------------------------------------------------------------------------
# Supabase Service Role (Server-only — DO NOT expose to client)
# -----------------------------------------------------------------------------
# Used by: upload API, datasets API. Required for creating sessions,
# inserting datasets, and uploading files to Storage.
# Get from: Same API settings page → service_role key

SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxxxxxxxxx

# -----------------------------------------------------------------------------
# OAuth Providers (Configured in Supabase Dashboard, not env)
# -----------------------------------------------------------------------------
# GitHub and Google sign-in are configured in:
# Supabase Dashboard → Authentication → Providers
#
# 1. Enable GitHub/Google in Providers
# 2. Add your OAuth app Client ID and Secret from GitHub/Google developer consoles
# 3. Add Redirect URL in Supabase: Authentication → URL Configuration
#    - Site URL: https://yourdomain.com (or http://localhost:3000 for dev)
#    - Redirect URLs: Add https://yourdomain.com/auth/callback (and http://localhost:3000/auth/callback for dev)
#
# The app uses: supabase.auth.signInWithOAuth({ provider, options: { redirectTo: origin + '/auth/callback' } })
# No additional env vars needed for OAuth — Supabase handles provider configuration.

# -----------------------------------------------------------------------------
# Stripe (Optional — for Pro subscription checkout)
# -----------------------------------------------------------------------------
# Required for "Upgrade Now" and tier limit upgrade modal.
# Get from: https://dashboard.stripe.com/apikeys
# Create a Price for the Pro plan: https://dashboard.stripe.com/products

STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxx
STRIPE_PRICE_ID_PRO=price_xxxxxxxxxxxx

# Webhook secret — different for localhost vs production
# Localhost: use Stripe CLI — run `stripe listen --forward-to localhost:3000/api/stripe/webhook` and copy the whsec_... value
# Production: Stripe Dashboard → Developers → Webhooks → Add endpoint → copy Signing secret
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx
